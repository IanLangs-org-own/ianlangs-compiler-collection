#include <flow/io> 
#include <flow/math>
using namespace flow;

template <typename T>
type Matrix  = flow::matrix<T>;

type StrVector = flow::vector<str>;

template <typename T>
fn make_any(T x) -> any {
    return x;
}

fn main() -> int {
    str msg = "start";
    println(msg);

    auto d1 = defer println("Deferred 1");;
    auto d2 = defer println("Deferred 2");;

    msg = "middle";
    println(msg);

    // ------------------------
    // Any y type check
    // ------------------------
    any a = make_any(42);
    if ([a]:int:?) {
        println("a is int");
    }

    any b = str("hello");
    println([b]:str:);

    // ------------------------
    // Loop y condicional
    // ------------------------
    int total = 0;
    for (int i = 1; i <= 5; i++) {
        total = total + i;
    }

    println(total);

    return 0;
}